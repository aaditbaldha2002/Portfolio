. "$(dirname "$0")/_/h"

# Get only staged JavaScript and TypeScript files
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM )

if [ -n "$STAGED_FILES" ]; then
    # Checking if the staged files are according to Prettier code styling
    echo "Checking if the staged files are according to Prettier code styling..."
    echo "$STAGED_FILES" | xargs npx prettier --check || { echo "Prettier formatting issues found!"; exit 1; }

    # Checking ESLint rules for the staged files
    echo "Checking ESLint rules for the staged files..."
    echo "$STAGED_FILES" | xargs npx eslint || { echo "ESLint issues found!"; exit 1; }
else
    echo "No staged JavaScript or TypeScript files to check."
fi
